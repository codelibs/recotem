# ============================================
# Database (PostgreSQL) — REQUIRED
# ============================================
POSTGRES_USER=recotem_user
POSTGRES_PASSWORD=recotem-local-dev-password-change-for-production  # REQUIRED: change this for production
POSTGRES_DB=recotem
PGDATA=/var/lib/postgresql/data/pgdata
DATABASE_URL=postgresql://recotem_user:recotem-local-dev-password-change-for-production@db:5432/recotem  # REQUIRED: must match POSTGRES_PASSWORD

# ============================================
# Security — REQUIRED
# ============================================
# Generate a strong secret key with:
#   python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
SECRET_KEY=insecure-local-dev-key-do-not-use-in-production-change-me-abc123xyz  # REQUIRED: change this for production
DEBUG=false
ALLOWED_HOSTS=localhost,your-domain.example.com          # REQUIRED: change to your actual domain(s)
DEFAULT_ADMIN_PASSWORD=very_bad_password  # REQUIRED: change this for production

# HTTPS settings — enable these when serving behind HTTPS (recommended for production):
SECURE_SSL_REDIRECT=false
SESSION_COOKIE_SECURE=false
CSRF_COOKIE_SECURE=false
# SECURE_HSTS_SECONDS=31536000

# ============================================
# Redis — REQUIRED
# ============================================
CELERY_BROKER_URL=redis://redis:6379/0
CHANNELS_REDIS_URL=redis://redis:6379/1
CACHE_REDIS_URL=redis://redis:6379/2
# Set a password if Redis is network-accessible (optional for Docker internal network):
REDIS_PASSWORD=

# ============================================
# Auth (optional)
# ============================================
# JWT access token lifetime in seconds (default 300 = 5 minutes)
ACCESS_TOKEN_LIFETIME=300

# ============================================
# CORS / CSRF (optional — for cross-domain deployments)
# ============================================
# Set these if frontend and backend are on different domains:
#   CORS_ALLOWED_ORIGINS=https://app.example.com,https://admin.example.com
#   CSRF_TRUSTED_ORIGINS=https://app.example.com
# For same-origin deployments behind nginx, these are not needed.

# ============================================
# Logging (optional)
# ============================================
# LOG_LEVEL=INFO
# DJANGO_LOG_LEVEL=WARNING
# CELERY_LOG_LEVEL=INFO

# ============================================
# Storage (optional)
# ============================================
# Where uploaded data files are stored. Must match the Docker volume mount path.
MEDIA_ROOT=/data

# ============================================
# Celery Worker Limits (optional)
# ============================================
CELERY_TASK_TIME_LIMIT=3600
CELERY_TASK_SOFT_TIME_LIMIT=3480

# ============================================
# Database Connection Pooling (optional)
# ============================================
CONN_MAX_AGE=600
