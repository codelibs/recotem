name: Full Test & Upload coverage
on: [push, pull_request]
jobs:
  run_pytest_upload_coverage:
    runs-on: ubuntu-latest
    env:
      OS: ubuntu-latest
      PYTHON: "3.7"
    steps:
      - uses: actions/checkout@v2
        with:
          fetch-depth: 0
      - name: build
        shell: bash
        run: |
          docker-compose -f docker-compose-test.yml up --exit-code-from backend
#      - name: Upload coverage to Codecov
#        uses: codecov/codecov-action@v1
#        with:
#          files: ./coverage.xml,./coverage.info
#          verbose: false
#          env_vars: OS,PYTHON
#          name: codecov-umbrella
#          fail_ci_if_error: false
